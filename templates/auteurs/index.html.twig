{% extends 'base.html.twig' %}

{% block title %}Les Conteurs Magiques - Biblioth√®que des Enfants{% endblock %}

{% block body %}
    <h1 class="page-title">Les Conteurs Magiques</h1>
    
    <div class="authors-intro">
        <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 512 512'%3E%3Cpath fill='%2348dbfb' d='M410.3 231l11.3-11.3-33.9-33.9-62.1-62.1L291.7 89.8l-11.3 11.3-22.6 22.6L58.6 322.9c-10.4 10.4-18 23.3-22.2 37.4L1 480.7c-2.5 8.4-.2 17.5 6.1 23.7s15.3 8.5 23.7 6.1l120.3-35.4c14.1-4.2 27-11.8 37.4-22.2L387.7 253.7 410.3 231zM160 399.4l-9.1 22.7c-4 3.1-8.5 5.4-13.3 6.9L59.4 452l23-78.1c1.4-4.9 3.8-9.4 6.9-13.3l22.7-9.1v32c0 8.8 7.2 16 16 16h32zM362.7 18.7L348.3 33.2 325.7 55.8 314.3 67.1l33.9 33.9 62.1 62.1 33.9 33.9 11.3-11.3 22.6-22.6 14.5-14.5c25-25 25-65.5 0-90.5L453.3 18.7c-25-25-65.5-25-90.5 0zm-47.4 168l-144 144c-6.2 6.2-16.4 6.2-22.6 0s-6.2-16.4 0-22.6l144-144c6.2-6.2 16.4-6.2 22.6 0s6.2 16.4 0 22.6z'/%3E%3C/svg%3E" class="pen-icon">
        <p>D√©couvre les g√©nies derri√®re tes histoires pr√©f√©r√©es ! Chaque auteur est comme un magicien qui cr√©e des univers extraordinaires.</p>
    </div>

    {% if auteurs|length > 0 %}
        <div class="author-cards">
            {% for auteur in auteurs %}
                <div class="author-card">
                    <div class="author-avatar">
                        <span class="avatar-text">{{ auteur.prenom|first }}{{ auteur.nom|first }}</span>
                    </div>
                    <div class="author-content">
                        <h2 class="author-name">{{ auteur.prenom }} {{ auteur.nom }}</h2>
                        <div class="book-count">
                            <span class="book-icon">üìö</span>
                            <span>{{ auteur.livre|length }} {% if auteur.livre|length > 1 %}livres{% else %}livre{% endif %}</span>
                        </div>
                        <a href="{{ path('app_auteurs_show', {'id': auteur.id}) }}" class="author-button">
                            D√©couvrir ses aventures
                            <span class="button-arrow">‚Üí</span>
                        </a>
                    </div>
                </div>
            {% endfor %}
        </div>
    {% else %}
        <div class="empty-state">
            <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 512 512'%3E%3Cpath fill='%23feca57' d='M368.4 18.3L312.7 74.1 437.9 199.3l55.7-55.7c21.9-21.9 21.9-57.3 0-79.2L447.6 18.3c-21.9-21.9-57.3-21.9-79.2 0zM288 94.6l-9.2 2.8L134.7 140.6c-19.9 6-35.7 21.2-42.3 41L3.8 445.8c-3.8 11.3-1 23.9 7.3 32.4L164.7 324.7c-3-6.3-4.7-13.3-4.7-20.7c0-26.5 21.5-48 48-48s48 21.5 48 48s-21.5 48-48 48c-7.4 0-14.4-1.7-20.7-4.7L33.7 500.9c8.6 8.3 21.1 11.2 32.4 7.3l264.3-88.6c19.7-6.6 35-22.4 41-42.3l43.2-144.1 2.8-9.2L288 94.6z'/%3E%3C/svg%3E" class="empty-icon">
            <p>Oh non ! Il semble que tous nos auteurs soient en train d'inventer de nouvelles histoires...</p>
            <p>Reviens bient√¥t pour d√©couvrir des conteurs magiques !</p>
        </div>
    {% endif %}

    <style>
        .authors-intro {
            background-color: white;
            border-radius: 20px;
            padding: 20px;
            margin: 30px 0;
            text-align: center;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
            border: 3px dashed var(--accent-color);
            box-shadow: var(--box-shadow);
        }
        
        .authors-intro p {
            font-size: 18px;
            color: var(--dark-color);
            margin: 0;
            font-weight: bold;
        }
        
        .pen-icon {
            width: 40px;
            height: 40px;
            animation: wiggle 3s ease-in-out infinite;
        }
        
        @keyframes wiggle {
            0%, 100% { transform: rotate(-5deg); }
            50% { transform: rotate(5deg); }
        }
        
        .author-cards {
            display: flex;
            flex-direction: column;
            gap: 25px;
            margin: 30px 0;
        }
        
        .author-card {
            background-color: white;
            border-radius: 20px;
            padding: 20px;
            display: flex;
            align-items: center;
            box-shadow: var(--box-shadow);
            border: 3px solid var(--secondary-color);
            transition: transform 0.3s ease;
        }
        
        .author-card:hover {
            transform: translateY(-5px) scale(1.01);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
            border-color: var(--primary-color);
        }
        
        .author-avatar {
            width: 80px;
            height: 80px;
            background-color: var(--accent-color);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 20px;
            flex-shrink: 0;
            color: white;
            font-size: 32px;
            font-weight: bold;
            text-shadow: 1px 1px 0 rgba(0,0,0,0.1);
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
        }
        
        .author-content {
            flex: 1;
        }
        
        .author-name {
            color: var(--primary-color);
            font-size: 22px;
            margin: 0 0 10px 0;
            font-weight: bold;
        }
        
        .book-count {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 15px;
            color: var(--secondary-color);
            font-weight: bold;
        }
        
        .book-icon {
            font-size: 18px;
        }
        
        .author-button {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            background-color: var(--accent-color);
            color: white;
            padding: 8px 16px;
            border-radius: 20px;
            text-decoration: none;
            font-weight: bold;
            transition: all 0.2s ease;
            box-shadow: 0 3px 0 #e6ac2e;
        }
        
        .author-button:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 0 #e6ac2e;
        }
        
        .button-arrow {
            transition: transform 0.2s ease;
        }
        
        .author-button:hover .button-arrow {
            transform: translateX(3px);
        }
        
        .empty-state {
            text-align: center;
            padding: 40px 20px;
            background-color: white;
            border-radius: 20px;
            margin: 30px 0;
            border: 3px dashed var(--accent-color);
        }
        
        .empty-icon {
            width: 80px;
            height: 80px;
            margin-bottom: 20px;
            opacity: 0.7;
        }
        
        .empty-state p {
            font-size: 18px;
            color: var(--dark-color);
            margin: 10px 0;
            font-weight: bold;
        }
        
        @media (max-width: 768px) {
            .authors-intro {
                flex-direction: column;
                padding: 15px;
            }
            
            .authors-intro p {
                font-size: 16px;
            }
            
            .author-card {
                padding: 15px;
            }
            
            .author-avatar {
                width: 60px;
                height: 60px;
                font-size: 24px;
                margin-right: 15px;
            }
            
            .author-name {
                font-size: 18px;
            }
        }
    </style>
{% endblock %}
